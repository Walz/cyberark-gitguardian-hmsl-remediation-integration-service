{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/healthz":{"get":{"summary":"Healthz","operationId":"healthz_healthz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/readiness":{"get":{"summary":"Readiness","description":"Make sure we can connect to our databases","operationId":"readiness_readiness_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/prefix/{prefix}":{"get":{"summary":"Get Secret","description":"Return the first location matching a given prefix if any","operationId":"get_secret_v1_prefix__prefix__get","parameters":[{"required":true,"schema":{"type":"string","pattern":"^[a-f0-9]{5}$","title":"Prefix"},"name":"prefix","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrefixesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/prefixes":{"post":{"summary":"Batch Prefixes","description":"Return the first locations for a list of prefixes if any","operationId":"batch_prefixes_v1_prefixes_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrefixesQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrefixesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/hashes":{"post":{"summary":"Batch Hashes","description":"Return the first locations for a list of full hashes if any","operationId":"batch_hashes_v1_hashes_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HashesQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HashesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"APILocation":{"properties":{"u":{"type":"string","title":"U"}},"type":"object","required":["u"],"title":"APILocation","description":"Stores the location of an occurrence\n\nshould be stored via `.dict(by_alias=True)`"},"EncryptedSecretResponse":{"properties":{"hint":{"type":"string","title":"Hint"},"payload":{"type":"string","format":"binary","title":"Payload"}},"type":"object","required":["hint","payload"],"title":"EncryptedSecretResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HashesQuery":{"properties":{"hashes":{"items":{"type":"string","pattern":"^[a-f0-9]{64}$"},"type":"array","maxItems":1000,"title":"Hashes"}},"additionalProperties":false,"type":"object","title":"HashesQuery"},"HashesResponse":{"properties":{"secrets":{"items":{"$ref":"#/components/schemas/SecretResponse"},"type":"array","title":"Secrets"}},"type":"object","required":["secrets"],"title":"HashesResponse"},"PrefixesQuery":{"properties":{"prefixes":{"items":{"type":"string","pattern":"^[a-f0-9]{5}$"},"type":"array","maxItems":10,"title":"Prefixes"}},"additionalProperties":false,"type":"object","title":"PrefixesQuery"},"PrefixesResponse":{"properties":{"matches":{"items":{"$ref":"#/components/schemas/EncryptedSecretResponse"},"type":"array","title":"Matches"}},"type":"object","required":["matches"],"title":"PrefixesResponse"},"SecretResponse":{"properties":{"hash":{"type":"string","title":"Hash"},"count":{"type":"integer","title":"Count"},"location":{"$ref":"#/components/schemas/APILocation"}},"type":"object","required":["hash","count"],"title":"SecretResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}